<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>备忘录模式</title>

  </head>

  <body>
    <div>
      备忘录模式（Memento）：在不破坏对象的封装性的前提下，在对象之外捕获并保存该对象内部的状态以便日后对象使用或者对象恢复到以前的某个状态。
    </div>
    <div>
      <input type="type" name="nickname"><span></span>
      <input type="button" name="" value="验证">
    </div>

    <script type="text/javascript">
      var Page = function(){
        //信息缓存对象
        var cache = {};
        /**
         * 主函数
         * @param page 页码
         * @param fn 成功回调函数
         */
        return function(page, fn){
          //存在缓存
          if(cache[page]){
            showPage(page, cache[page]);
            fn && fn();
          }else{
            $.post('/test/getNewsData.php', {page: page},function(res){
              if(res.errNo == 0){
                showPage(page, res.data);
                cache[page] = res.data;
                fn&& fn();
              }
            });;
          }
        };
      };
      
    </script>
  </body>
</html>